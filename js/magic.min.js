
$(document).ready(function(){function showSpinner(){$('div.loading').show();}
function hideSpinner(){$('div.loading').fadeOut('fast');}
function hideTooltips(){$('.tooltip').hide();}
function showPopup(pClass){$('#popupOverlay').fadeIn('fast');$('.'+pClass).fadeIn('fast');$('body').addClass('stop-scrolling');}
function hidePopup(pClass){$('.'+pClass).fadeOut('fast');}
function hidePopups(){$('#popupOverlay').fadeOut('fast');$('.popup').fadeOut('fast');$('body').removeClass('stop-scrolling');hideSpinner();}
$('#popupOverlay, button.hidePopups').live('click',function(){hidePopups();});$('a.disabled, button.disabled').click(function(){return false;});$('body').on('touchstart.dropdown','.dropdown-menu',function(e){e.stopPropagation();});function randomPass(){var chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";var pass="";var x;var i;for(x=0;x<10;x++){i=Math.floor(Math.random()*62);pass+=chars.charAt(i);}
return pass;}
function openLocation(loc0,loc1,loc2){if(loc1.length===0){window.location=loc0+"/";}
if(loc2.length===0){window.location=loc0+"/"+loc1+"/";}
else{window.location=loc0+"/"+loc1+"/"+loc2+"/";}}
$('.selfDestruct').live('click',function(){$(this).parent('div').fadeOut('fast');});function createCookie(name,value,days){var date;var expires;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
else{}
document.cookie=name+"="+value+expires+"; path=/";}
function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;}
$('ul.submenu.submenu-close').hide();$('.icon-folder-close,.icon-folder-show, .icon-search').tooltip({delay:{show:2000,hide:0},placement:"bottom"});$('ul#subnets').on("click",".icon-folder-close",function(){$(this).removeClass('icon-folder-close').addClass('icon-folder-open');$(this).nextAll('.submenu').slideDown('fast');});$('ul#subnets').on("click","i.icon-folder-open",function(){$(this).removeClass('icon-folder-open').addClass('icon-folder-close');$(this).nextAll('.submenu').slideUp('fast');});$('#hideSubnets').click(function(){$('#leftMenu').hide('fast');$('#content').css("width","97.9147%");return false;});$('#expandfolders').click(function(){var action=$(this).attr('data-action');if(action=='close'){$('.subnets ul#subnets li.folder > i').removeClass('icon-folder-close').addClass('icon-folder-open');$('.subnets ul#subnets ul.submenu').removeClass('submenu-close').addClass('submenu-open').slideDown('fast');$(this).attr('data-action','open');createCookie('expandfolders','1','365');$(this).removeClass('icon-resize-full').addClass('icon-resize-small');}
else{$('.subnets ul#subnets li.folder > i').addClass('icon-folder-close').removeClass('icon-folder-open');$('.subnets ul#subnets ul.submenu').addClass('submenu-close').removeClass('submenu-open').slideUp('fast');$(this).attr('data-action','close');createCookie('expandfolders','0','365');$(this).removeClass('icon-resize-small').addClass('icon-resize-full');}});$('a.modIPaddr').live("click",function(){showSpinner();var action=$(this).attr('data-action');var id=$(this).attr('data-id');var subnetId=$(this).attr('data-subnetId');var postdata="action="+action+"&id="+id+"&subnetId="+subnetId;$.post('site/ipaddr/modifyIpAddress.php',postdata,function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('a.moveIPaddr').live("click",function(){showSpinner();var action=$(this).attr('data-action');var id=$(this).attr('data-id');var subnetId=$(this).attr('data-subnetId');var postdata="action="+action+"&id="+id+"&subnetId="+subnetId;$.post('site/ipaddr/moveIpAddress.php',postdata,function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#refreshHostname').live('click',function(){showSpinner();var ipaddress=$('input.ip_addr').val();$.post('site/tools/resolveDNS.php',{ipaddress:ipaddress},function(data){if(data.length!==0){$('input[name=dns_name]').val(data);}
hideSpinner();});});$('button#editIPAddressSubmit').live("click",function(){showSpinner();var postdata=$('form.editipaddress').serialize();$.post('site/ipaddr/modifyIpAddressCheck.php',postdata,function(data){$('div.addnew_check').html(data);$('div.addnew_check').slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('a.mail_ipaddress').live("click",function(){var IPid=$(this).attr('data-id');$.post('site/ipaddr/mailNotifyIP.php',{id:IPid},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$('#mailIPAddressSubmit').live('click',function(){showSpinner();var mailData=$('form#mailNotify').serialize();$.post('site/ipaddr/mailNotifyCheck.php',mailData,function(data){$('div.sendmail_check').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){hidePopups();},1500);}
else{hideSpinner();}});return false;});$('table.ipaddresses th a.sort').live('click',function(){showSpinner();$(this).tooltip('hide');var direction=$(this).attr('data-id');var subnetId=$(this).attr('data-subnetId');$.post('site/ipaddr/ipAddressPrintTable.php',{direction:direction,subnetId:subnetId},function(data){$('div.ipaddresses_overlay').html(data);hideSpinner();});return false;});$('a.csvImport').click(function(){showSpinner();$.post('site/admin/CSVimport.php',function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$('input#csvimportcheck').live('click',function(){showSpinner();var filetype=$('span.fname').html();$.post('site/admin/CSVimportShowFile.php',{filetype:filetype},function(data){$('div.csvimportverify').html(data).slideDown('fast');hideSpinner();});});$('input#csvImportNo').live('click',function(){$('div.csvimportverify').hide('fast');});$('input#csvImportYes').live('click',function(){showSpinner();var filetype=$('span.fname').html();var xlsSubnetId=$('a.csvImport').attr('data-subnetId');var postData="subnetId="+xlsSubnetId+"&filetype="+filetype;$.post('site/admin/CSVimportSubmit.php',postData,function(data){$('div.csvImportResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});});$('a.csvExport').click(function(){showSpinner();$('div.popup_w400').load('site/ipaddr/exportSelectFields.php',function(){showPopup('popup_w400');hideSpinner();});return false;});$('button#exportSubnet').live("click",function(){var subnetId=$('a.csvExport').attr('data-subnetId');var exportFields=$('form#selectExportFields').serialize();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportSubnet.php?subnetId="+subnetId+"&"+exportFields+"'></iframe></div>");return false;});$('a.request_ipaddress').live("click",function(){showSpinner();var subnetId=$(this).attr('data-subnetId');$.post('site/tools/requestIPform.php',{subnetId:subnetId},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});return false;});$('select#subnetId').live('change',function(){showSpinner();var subnetId=$('select#subnetId option:selected').attr('value');$.post('site/login/requestIPfirstFree.php',{subnetId:subnetId},function(data){$('input.ip_addr').val(data);hideSpinner();});});$('button#requestIPAddressSubmit').live('click',function(){showSpinner();var request=$('form#requestIP').serialize();$.post('site/login/requestIPresult.php',request,function(data){$('div#requestIPresult').html(data).slideDown('fast');hideSpinner();});return false;});$('a#prevItem').live('click',function(){$('div.loading').fadeIn('fast');var active=$('table.ipaddresses').find("tbody.ipPart:visible");var index=active.index();var dolzina=($('table.ipaddresses tbody').length)-1;if(index!=1){$(active).prev('tbody:hidden').css({'display':'table-row-group'});$(active).css({'display':'none'});$('span.stran').html("Page "+(index-1)+'/'+dolzina);$("select.jumptoPage").val('page-'+(index-2));}
$('div.loading').fadeOut('fast');return false;});$('a#nextItem').live('click',function(){$('div.loading').fadeIn('fast');var active=$('table.ipaddresses').find("tbody.ipPart:visible");var index=active.index();var dolzina=($('table.ipaddresses tbody').length)-1;if(index!=dolzina){$(active).next('tbody:hidden').css({'display':'table-row-group'});$(active).css({'display':'none'});$('span.stran').html("Page "+(index+1)+'/'+dolzina);$("select.jumptoPage").val('page-'+index);}
$('div.loading').fadeOut('fast');return false;});$('select.jumptoPage').change(function(){$('div.loading').fadeIn('fast');var page=$(this).val();var pageTemp=page.replace("page-","");var active=$('table.ipaddresses').find("tbody.ipPart:visible");$('table.ipaddresses tbody.'+page).css({'display':'table-row-group'});$(active).css({'display':'none'});pageTemp++;var dolzina=($('table.ipaddresses tbody').length)-1;$('span.stran').html("Page "+pageTemp+'/'+dolzina);$('div.loading').fadeOut('fast');});$('form#ipCalc').live('submit',function(){showSpinner();var ipCalcData=$(this).serialize();$.post('site/tools/ipCalcResult.php',ipCalcData,function(data){$('div.ipCalcResult').html(data).fadeIn('fast');hideSpinner();});return false;});$('form#ipCalc input.reset').live('click',function(){$('form#ipCalc input[type="text"]').val('');$('div.ipCalcResult').fadeOut('fast');});$('form#search').live('submit',function(){showSpinner();var ip=$('form#search .search').val();window.location="tools/search/"+ip;return false;});$('form#userMenuSearch').live('submit',function(){var ip=$('#userMenuSearch #appendedInputButton').val();window.location="tools/search/"+ip;return false;});$('a#exportSearch').live('click',function(){var searchTerm=$('form#search .search').val();$("div.dl").remove();$('div.exportDIVSearch').append("<div style='display:none' class='dl'><iframe src='site/tools/searchResultsExport.php?searchTerm="+searchTerm+"'></iframe></div>");return false;});$('table#switchMainTable button[id^="switch-"]').live('click',function(){var swid=$(this).attr('id');if($('#content-'+swid).is(':visible')){$(this).children('i').removeClass('icon-chevron-down').addClass('icon-chevron-right');}
else{$(this).children('i').removeClass('icon-chevron-right').addClass('icon-chevron-down');}
$('table#switchMainTable tbody#content-'+swid).slideToggle('fast');});$('#hosts').submit(function(){showSpinner();var hostname=$('input.hostsFilter').val();window.location="tools/hosts/"+hostname;return false;});$('form#userModSelf').live('submit',function(){var selfdata=$(this).serialize();$('div.userModSelfResult').hide();$.post('site/tools/userMenuSelfMod.php',selfdata,function(data){$('div.userModSelfResult').html(data).fadeIn('fast').delay(2000).fadeOut('slow');});return false;});$('#randomPassSelf').live('click',function(){var password=randomPass();$('input.userPass').val(password);$('#userRandomPass').html(password);return false;});$('#settings').submit(function(){showSpinner();var settings=$(this).serialize();$.post('site/admin/settingsEdit.php',settings,function(data){$('div.settingsEdit').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('.editUser').click(function(){showSpinner();var id=$(this).attr('data-userid');var action=$(this).attr('data-action');$.post('site/admin/userModPrint.php',{id:id,action:action},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$('#editUserSubmit').live('click',function(){showSpinner();var loginData=$('form#userMod').serialize();$.post('site/admin/userModResult.php',loginData,function(data){$('div.userModResult').html(data).show();if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('select#domainUser').live('change',function(){var type=$(this).val();if(type=="1"){$('input.userPass').attr('disabled','');}
else{$('input.userPass').removeAttr('disabled');}});$('a#randomPass').live('click',function(){var password=randomPass();$('input.userPass').val(password);$(this).html(password);return false;});$('form#ad').submit(function(){showSpinner();var addata=$(this).serialize();$.post('site/admin/manageADresult.php',addata,function(data){$('div.manageADresult').html(data).slideDown('fast').delay(2000).fadeOut('slow');hideSpinner();});return false;});$('#checkAD').click(function(){showSpinner();var addata=$('form#ad').serialize();$.post('site/admin/manageADcheck.php',addata,function(data){$('div.manageADresult').html(data).slideDown('fast');hideSpinner();});return false;});$('#instructions').submit(function(){var instructions=$(this).serialize();showSpinner();$.post('site/admin/instructionsResult.php',instructions,function(data){$('div.instructionsResult').html(data).fadeIn('fast');if(data.search("error")==-1){$('div.instructionsResult').delay(2000).fadeOut('slow');hideSpinner();}
else{hideSpinner();}});return false;});$('#preview').click(function(){showSpinner();var instructions=$('form#instructions ').serialize();$.post('site/admin/instructionsPreview.php',instructions,function(data){$('div.instructionsPreview').html(data).fadeIn('fast');hideSpinner();});return false;});$('form#logs').change(function(){showSpinner();var logSelection=$('form#logs').serialize();$.post('site/admin/logResult.php',logSelection,function(data){$('div.logs').html(data);hideSpinner();});});$('a.openLogDetail').live('click',function(){var id=$(this).attr('data-logid');$.post('site/admin/logDetail.php',{id:id},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});return false;});$('#logDirection button').click(function(){showSpinner();var logSelection=$('form#logs').serialize();var direction=$(this).attr('data-direction');var lastId;if(direction=="next"){lastId=$('table#logs tr:last').attr('id');}
else{lastId=$('table#logs tr:nth-child(2)').attr('id');}
var postData=logSelection+"&direction="+direction+"&lastId="+lastId;$.post('site/admin/logResult.php',postData,function(data1){$('div.logs').html(data1);hideSpinner();});return false;});$('#downloadLogs').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/logsExport.php'></iframe></div>");hideSpinner();$('div.logs').prepend("<div class='alert alert-info' id='logsInfo'><i class='icon-remove icon-gray selfDestruct'></i> Preparing download... </div>");return false;});$('#clearLogs').click(function(){showSpinner();$('div.logs').load('site/admin/logClear.php',function(){hideSpinner();});return false;});$('button.editSection').click(function(){showSpinner();var sectionId=$(this).attr('data-sectionid');var action=$(this).attr('data-action');$.post("site/admin/manageSectionEdit.php",{sectionId:sectionId,action:action},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});});$('#editSectionSubmit').live('click',function(){showSpinner();var sectionData=$('form#sectionEdit').serialize();$.post('site/admin/manageSectionEditResult.php',sectionData,function(data){$('div.sectionEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$('table#manageSubnets button[id^="subnet-"]').click(function(){showSpinner();var swid=$(this).attr('id');if($('#content-'+swid).is(':visible')){$(this).children('i').removeClass('icon-chevron-down').addClass('icon-chevron-right');}
else{$(this).children('i').removeClass('icon-chevron-right').addClass('icon-chevron-down');}
$('table#manageSubnets tbody#content-'+swid).slideToggle('fast');hideSpinner();});$('#toggleAllSwitches').click(function(){showSpinner();if($(this).children().hasClass('icon-resize-full')){$(this).children().removeClass('icon-resize-full').addClass('icon-resize-small');$('table#manageSubnets i.icon-chevron-right').removeClass('icon-chevron-right').addClass('icon-chevron-down');$('table#manageSubnets tbody[id^="content-subnet-"]').show();createCookie('showSubnets',1,30);}
else{$(this).children().removeClass('icon-resize-small').addClass('icon-resize-full');$('table#manageSubnets tbody[id^="content-subnet-"]').hide();$('table#manageSubnets i.icon-chevron-down').removeClass('icon-chevron-down').addClass('icon-chevron-right');createCookie('showSubnets',0,30);}
hideSpinner();});$('button.editSubnet').click(function(){showSpinner();var sectionId=$(this).attr('data-sectionid');var subnetId=$(this).attr('data-subnetid');var action=$(this).attr('data-action');var postdata="sectionId="+sectionId+"&subnetId="+subnetId+"&action="+action;$.post("site/admin/manageSubnetEdit.php",postdata,function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});});$('.editSubnetSubmit').live('click',function(){showSpinner();var subnetData=$('form#editSubnetDetails').serialize();if($(this).hasClass("editSubnetSubmitDelete")){subnetData=subnetData.replace("action=edit","action=delete");}
$.post("site/admin/manageSubnetEditResult.php",subnetData,function(data){$('div.manageSubnetEditResult').html(data).slideDown('fast');if(data.search("error")==-1){showSpinner();var sectionId;var subnetId;var parameter;if(subnetData.search("IPaddresses")!=-1){sectionId=$('form#editSubnetDetails input[name=sectionId]').val();subnetId=$('form#editSubnetDetails input[name=subnetId]').val();setTimeout(function(){openLocation("subnets",sectionId,subnetId);parameter=null;},1500);}
else if(subnetData.search("ipcalc")!=-1){sectionId=$('form#editSubnetDetails input[name=sectionId]').val();setTimeout(function(){openLocation("subnets",sectionId,"");parameter=null;},1500);}
else{setTimeout(function(){window.location.reload();},1500);}}
else{hideSpinner();}});return false;});$('#createSubnetFromCalc').live('click',function(){$('tr#selectSection').show();});$('select#selectSectionfromIPCalc').live('change',function(){var sectionId=$(this).val();var subnet=$('table.ipCalcResult td#sub2').html();var bitmask=$('table.ipCalcResult td#sub4').html();var postdata="sectionId="+sectionId+"&subnet="+subnet+"&bitmask="+bitmask+"&action=add&location=ipcalc";$('table.newSections ul#sections li#'+sectionId).addClass('active');$.post('site/admin/manageSubnetEdit.php',postdata,function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});});$('a.edit_subnet, button#add_subnet').click(function(){var subnetId=$(this).attr('data-subnetId');var sectionId=$(this).attr('data-sectionId');var action=$(this).attr('data-action');var postdata="sectionId="+sectionId+"&subnetId="+subnetId+"&action="+action+"&location=IPaddresses";$.post('site/admin/manageSubnetEdit.php',postdata,function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$('select[name=vlanId]').live('change',function(){var vlanId=$(this).val();if(vlanId=='Add'){showSpinner();$.post('site/admin/manageVLANEdit.php',{action:"add",fromSubnet:"true"},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');$('.popup_w700').css("z-index","99");hideSpinner();});}
return false;});$('.vlanManagementEditFromSubnetButton').live('click',function(){showSpinner();var postData=$('form#vlanManagementEditFromSubnet').serialize();var parameter;$.post('site/admin/manageVLANEditResult.php',postData,function(data){$('div.vlanManagementEditFromSubnetResult').html(data).show();if(data.search("error")==-1){var sectionId=$('#editSubnetDetails input[name=sectionId]').val();var subnetId=$('#editSubnetDetails input[name=subnetId]').val();var postdata2="sectionId="+sectionId+"&subnetId="+subnetId+"&action=add";$.post('site/admin/manageSubnetEdit.php',postdata2,function(data){$('div.popup_w700').html(data);$('.popup_w700').delay(1000).css("z-index","101");hideSpinner();});setTimeout(function(){hidePopup('popup_w400');parameter=null;},1000);}
else{hideSpinner();}});return false;});$('.editSwitch').live('click',function(){showSpinner();var switchId=$(this).attr('data-switchid');var action=$(this).attr('data-action');$.post('site/admin/manageSwitchesEdit.php',{switchId:switchId,action:action},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#editSwitchsubmit').live('click',function(){showSpinner();var switchdata=$('form#switchManagementEdit').serialize();$.post('site/admin/manageSwitchesEditResult.php',switchdata,function(data){$('div.switchManagementEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$('.editVLAN').click(function(){showSpinner();var vlanId=$(this).attr('data-vlanid');var action=$(this).attr('data-action');$.post('site/admin/manageVLANEdit.php',{vlanId:vlanId,action:action},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#editVLANsubmit').live('click',function(){showSpinner();var vlandata=$('form#vlanManagementEdit').serialize();$.post('site/admin/manageVLANEditResult.php',vlandata,function(data){$('div.vlanManagementEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('button.vrfManagement').click(function(){showSpinner();var vrfId=$(this).attr('data-vrfid');var action=$(this).attr('data-action');var switchpost="vrfId="+vrfId+"&action="+action;$.post('site/admin/manageVRFEdit.php',switchpost,function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#editVRF').live('click',function(){showSpinner();var vrfdata=$('form#vrfManagementEdit').serialize();$.post('site/admin/manageVRFEditResult.php',vrfdata,function(data){$('div.vrfManagementEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table#requestedIPaddresses button').click(function(){showSpinner();var requestId=$(this).attr('data-requestid');$.post('site/admin/manageRequestEdit.php',{requestId:requestId},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$('button.manageRequest').live('click',function(){showSpinner();var postValues=$('form.manageRequestEdit').serialize();var action=$(this).attr('data-action');var postData=postValues+"&action="+action;$.post('site/admin/manageRequestResult.php',postData,function(data){$('div.manageRequestResult').html(data);if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('form#ripeImport').submit(function(){showSpinner();var as=$(this).serialize();$.post('site/admin/ripeImportTelnet.php',as,function(data){$('div.ripeImportTelnet').html(data).fadeIn('fast');hideSpinner();});return false;});$('table.asImport .removeSubnet').live('click',function(){$(this).parent('tr').remove();hideTooltips();});$('form#asImport').live('submit',function(){showSpinner();var importData=$(this).serialize();$.post('site/admin/ripeImportResult.php',importData,function(data){$('div.ripeImportResult').html(data).slideDown('fast');if(data.search("error")==-1){$('table.asImport').delay(1000).fadeOut('fast');hideSpinner();}
else{hideSpinner();}});return false;});$('button#filterIPSave').click(function(){showSpinner();var addata=$('form#filterIP').serialize();$.post('site/admin/filterIPFieldsResult.php',addata,function(data){$('div.filterIPResult').html(data).slideDown('fast');if(data.search("error")==-1){$('div.filterIPResult').delay(2000).fadeOut('slow');hideSpinner();}
else{hideSpinner();}});return false;});$('table.customIP button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customIPFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#editcustomSubmit').live('click',function(){showSpinner();var field=$('form#editCustomIPFields').serialize();$.post('site/admin/customIPFieldsEditResult.php',field,function(data){$('div.customIPEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customIP button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customIPFieldsOrder.php',{current:current,next:next},function(data){$('div.customIPResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('table.customSubnet button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customSubnetFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#editcustomSubnetSubmit').live('click',function(){showSpinner();var field=$('form#editCustomSubnetFields').serialize();$.post('site/admin/customSubnetFieldsEditResult.php',field,function(data){$('div.customSubnetEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customSubnet button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customSubnetFieldsOrder.php',{current:current,next:next},function(data){$('div.customSubnetResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('table.customVLAN button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customVLANFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$('#editcustomVLANSubmit').live('click',function(){showSpinner();var field=$('form#editCustomVLANFields').serialize();$.post('site/admin/customVLANFieldsEditResult.php',field,function(data){$('div.customVLANEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customVLAN button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customVLANFieldsOrder.php',{current:current,next:next},function(data){$('div.customVLANResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('button#searchReplaceSave').click(function(){showSpinner();var searchData=$('form#searchReplace').serialize();$.post('site/admin/searchReplaceResult.php',searchData,function(data){$('div.searchReplaceResult').html(data);hideSpinner();});return false;});$('button#XLSdump').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportGenerateXLS.php'></iframe></div>");hideSpinner();});$('button#MySQLdump').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportGenerateMySQL.php' ></iframe></div>");hideSpinner();});return false;});