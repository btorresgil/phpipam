
$(document).ready(function(){function showSpinner(){$('div.loading').show();}
function hideSpinner(){$('div.loading').fadeOut('fast');}
function hideTooltips(){$('.tooltip').hide();}
function showPopup(pClass){$('#popupOverlay').fadeIn('fast');$('.'+pClass).fadeIn('fast');$('body').addClass('stop-scrolling');}
function hidePopup(pClass){$('.'+pClass).fadeOut('fast');}
function hidePopups(){$('#popupOverlay').fadeOut('fast');$('.popup').fadeOut('fast');$('body').removeClass('stop-scrolling');$('.popup_w700').css("z-index","100");hideSpinner();}
function hidePopup2(){$('.popup_w400').fadeOut('fast');$('.popup_w500').fadeOut('fast');$('.popup_w700').css("z-index","100");hideSpinner();}
$(document).on("click","#popupOverlay, button.hidePopups",function(){hidePopups();});$(document).on("click","button.hidePopup2",function(){hidePopup2();});$('a.disabled, button.disabled').click(function(){return false;});$('body').on('touchstart.dropdown','.dropdown-menu',function(e){e.stopPropagation();});function randomPass(){var chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";var pass="";var x;var i;for(x=0;x<10;x++){i=Math.floor(Math.random()*62);pass+=chars.charAt(i);}
return pass;}
function reloadPage(){window.location.reload();}
$(document).on("click",".selfDestruct",function(){$(this).parent('div').fadeOut('fast');});function createCookie(name,value,days){var date;var expires;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
else{}
document.cookie=name+"="+value+expires+"; path=/";}
function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;}
if($('#IPv4top10Hosts').length>0){$.post('site/dashboard/top10_percentage.php',function(data){$('#IPv4top10').html(data);$.post('site/dashboard/top10_hosts.php',{type:"IPv4"},function(data){$('#IPv4top10Hosts').html(data);$.post('site/dashboard/top10_hosts.php',{type:"IPv6"},function(data){$('#IPv6top10Hosts').html(data);});});});}
$('ul.submenu.submenu-close').hide();$('.icon-folder-close,.icon-folder-show, .icon-search').tooltip({delay:{show:2000,hide:0},placement:"bottom"});$('ul#subnets').on("click",".icon-folder-close",function(){$(this).removeClass('icon-folder-close').addClass('icon-folder-open');$(this).nextAll('.submenu').slideDown('fast');});$('ul#subnets').on("click","i.icon-folder-open",function(){$(this).removeClass('icon-folder-open').addClass('icon-folder-close');$(this).nextAll('.submenu').slideUp('fast');});$('#hideSubnets').click(function(){$('#leftMenu').hide('fast');$('#content').css("width","97.9147%");return false;});$('#expandfolders').click(function(){var action=$(this).attr('data-action');if(action=='close'){$('.subnets ul#subnets li.folder > i').removeClass('icon-folder-close').addClass('icon-folder-open');$('.subnets ul#subnets ul.submenu').removeClass('submenu-close').addClass('submenu-open').slideDown('fast');$(this).attr('data-action','open');createCookie('expandfolders','1','365');$(this).removeClass('icon-resize-full').addClass('icon-resize-small');}
else{$('.subnets ul#subnets li.folder > i').addClass('icon-folder-close').removeClass('icon-folder-open');$('.subnets ul#subnets ul.submenu').addClass('submenu-close').removeClass('submenu-open').slideUp('fast');$(this).attr('data-action','close');createCookie('expandfolders','0','365');$(this).removeClass('icon-resize-small').addClass('icon-resize-full');}});$(document).on("click",".modIPaddr",function(){showSpinner();var action=$(this).attr('data-action');var id=$(this).attr('data-id');var subnetId=$(this).attr('data-subnetId');var postdata="action="+action+"&id="+id+"&subnetId="+subnetId;$.post('site/ipaddr/modifyIpAddress.php',postdata,function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","a.moveIPaddr",function(){showSpinner();var action=$(this).attr('data-action');var id=$(this).attr('data-id');var subnetId=$(this).attr('data-subnetId');var postdata="action="+action+"&id="+id+"&subnetId="+subnetId;$.post('site/ipaddr/moveIpAddress.php',postdata,function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#refreshHostname",function(){showSpinner();var ipaddress=$('input.ip_addr').val();$.post('site/tools/resolveDNS.php',{ipaddress:ipaddress},function(data){if(data.length!==0){$('input[name=dns_name]').val(data);}
hideSpinner();});});$(document).on("click","button#editIPAddressSubmit",function(){showSpinner();var postdata=$('form.editipaddress').serialize();if($(this).attr('data-action')=="all-delete"){postdata=postdata+'&action-visual=delete';}
$.post('site/ipaddr/modifyIpAddressCheck.php',postdata,function(data){$('div.addnew_check').html(data);$('div.addnew_check').slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('a.mail_ipaddress').click(function(){var IPid=$(this).attr('data-id');$.post('site/ipaddr/mailNotifyIP.php',{id:IPid},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","#mailIPAddressSubmit",function(){showSpinner();var mailData=$('form#mailNotify').serialize();$.post('site/ipaddr/mailNotifyCheck.php',mailData,function(data){$('div.sendmail_check').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){hidePopups();},1500);}
else{hideSpinner();}});return false;});$(document).on("click","table.ipaddresses th a.sort",function(){showSpinner();$(this).tooltip('hide');var direction=$(this).attr('data-id');var subnetId=$(this).attr('data-subnetId');$.post('site/ipaddr/ipAddressPrintTable.php',{direction:direction,subnetId:subnetId},function(data){$('div.ipaddresses_overlay').html(data);hideSpinner();});return false;});$('a.csvImport').click(function(){showSpinner();var subnetId=$(this).attr('data-subnetId');$.post('site/admin/CSVimport.php',{subnetId:subnetId},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","input#csvimportcheck",function(){showSpinner();var filetype=$('span.fname').html();$.post('site/admin/CSVimportShowFile.php',{filetype:filetype},function(data){$('div.csvimportverify').html(data).slideDown('fast');hideSpinner();});});$(document).on("click","input#csvImportNo",function(){$('div.csvimportverify').hide('fast');});$(document).on("click","input#csvImportYes",function(){showSpinner();var filetype=$('span.fname').html();var xlsSubnetId=$('a.csvImport').attr('data-subnetId');var postData="subnetId="+xlsSubnetId+"&filetype="+filetype;$.post('site/admin/CSVimportSubmit.php',postData,function(data){$('div.csvImportResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});});$('a.csvExport').click(function(){showSpinner();var subnetId=$(this).attr('data-subnetId');$.post('site/ipaddr/exportSelectFields.php',{subnetId:subnetId},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","button#exportSubnet",function(){var subnetId=$('a.csvExport').attr('data-subnetId');var exportFields=$('form#selectExportFields').serialize();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportSubnet.php?subnetId="+subnetId+"&"+exportFields+"'></iframe></div>");return false;});$('a.request_ipaddress').click(function(){showSpinner();var subnetId=$(this).attr('data-subnetId');$.post('site/tools/requestIPform.php',{subnetId:subnetId},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});return false;});$(document).on("click","select#subnetId",function(){showSpinner();var subnetId=$('select#subnetId option:selected').attr('value');$.post('site/login/requestIPfirstFree.php',{subnetId:subnetId},function(data){$('input.ip_addr').val(data);hideSpinner();});});$(document).on("click","button#requestIPAddressSubmit",function(){showSpinner();var request=$('form#requestIP').serialize();$.post('site/login/requestIPresult.php',request,function(data){$('div#requestIPresult').html(data).slideDown('fast');hideSpinner();});return false;});$(document).on("click","a#prevItem",function(){$('div.loading').fadeIn('fast');var active=$('table.ipaddresses').find("tbody.ipPart:visible");var index=active.index();var dolzina=($('table.ipaddresses tbody').length)-1;if(index!=1){$(active).prev('tbody:hidden').css({'display':'table-row-group'});$(active).css({'display':'none'});$('span.stran').html("Page "+(index-1)+'/'+dolzina);$("select.jumptoPage").val('page-'+(index-2));}
$('div.loading').fadeOut('fast');return false;});$(document).on("click","a#nextItem",function(){$('div.loading').fadeIn('fast');var active=$('table.ipaddresses').find("tbody.ipPart:visible");var index=active.index();var dolzina=($('table.ipaddresses tbody').length)-1;if(index!=dolzina){$(active).next('tbody:hidden').css({'display':'table-row-group'});$(active).css({'display':'none'});$('span.stran').html("Page "+(index+1)+'/'+dolzina);$("select.jumptoPage").val('page-'+index);}
$('div.loading').fadeOut('fast');return false;});$('select.jumptoPage').change(function(){$('div.loading').fadeIn('fast');var page=$(this).val();var pageTemp=page.replace("page-","");var active=$('table.ipaddresses').find("tbody.ipPart:visible");$('table.ipaddresses tbody.'+page).css({'display':'table-row-group'});$(active).css({'display':'none'});pageTemp++;var dolzina=($('table.ipaddresses tbody').length)-1;$('span.stran').html("Page "+pageTemp+'/'+dolzina);$('div.loading').fadeOut('fast');});$('form#ipCalc').submit(function(){showSpinner();var ipCalcData=$(this).serialize();$.post('site/tools/ipCalcResult.php',ipCalcData,function(data){$('div.ipCalcResult').html(data).fadeIn('fast');hideSpinner();});return false;});$('form#ipCalc input.reset').click(function(){$('form#ipCalc input[type="text"]').val('');$('div.ipCalcResult').fadeOut('fast');});$('form#search').submit(function(){showSpinner();var ip=$('form#search .search').val();window.location="tools/search/"+ip;return false;});$('a#exportSearch').click(function(){var searchTerm=$('form#search .search').val();$("div.dl").remove();$('div.exportDIVSearch').append("<div style='display:none' class='dl'><iframe src='site/tools/searchResultsExport.php?searchTerm="+searchTerm+"'></iframe></div>");return false;});$('table#switchMainTable button[id^="switch-"]').click(function(){var swid=$(this).attr('id');if($('#content-'+swid).is(':visible')){$(this).children('i').removeClass('icon-chevron-down').addClass('icon-chevron-right');}
else{$(this).children('i').removeClass('icon-chevron-right').addClass('icon-chevron-down');}
$('table#switchMainTable tbody#content-'+swid).slideToggle('fast');});$('#hosts').submit(function(){showSpinner();var hostname=$('input.hostsFilter').val();window.location="tools/hosts/"+hostname;return false;});$('form#userModSelf').submit(function(){var selfdata=$(this).serialize();$('div.userModSelfResult').hide();$.post('site/tools/userMenuSelfMod.php',selfdata,function(data){$('div.userModSelfResult').html(data).fadeIn('fast').delay(2000).fadeOut('slow');});return false;});$(document).on("click","#randomPassSelf",function(){var password=randomPass();$('input.userPass').val(password);$('#userRandomPass').html(password);return false;});$('#settings').submit(function(){showSpinner();var settings=$(this).serialize();$.post('site/admin/settingsEdit.php',settings,function(data){$('div.settingsEdit').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('.editUser').click(function(){showSpinner();var id=$(this).attr('data-userid');var action=$(this).attr('data-action');$.post('site/admin/usersEditPrint.php',{id:id,action:action},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","#editUserSubmit",function(){showSpinner();var loginData=$('form#usersEdit').serialize();$.post('site/admin/usersEditResult.php',loginData,function(data){$('div.usersEditResult').html(data).show();if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$(document).on("change","select#domainUser",function(){var type=$(this).val();if(type=="1"){$('input.userPass').attr('disabled','');}
else{$('input.userPass').removeAttr('disabled');}});$(document).on("click","a#randomPass",function(){var password=randomPass();$('input.userPass').val(password);$(this).html(password);return false;});$('.editGroup').click(function(){showSpinner();var id=$(this).attr('data-groupid');var action=$(this).attr('data-action');$.post('site/admin/groupEditPrint.php',{id:id,action:action},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","#editGroupSubmit",function(){showSpinner();var loginData=$('form#groupEdit').serialize();$.post('site/admin/groupEditResult.php',loginData,function(data){$('div.groupEditResult').html(data).show();if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('.addToGroup').click(function(){showSpinner();var g_id=$(this).attr('data-groupid');$.post('site/admin/groupAddUsers.php',{g_id:g_id},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","#groupAddUsersSubmit",function(){showSpinner();var users=$('#groupAddUsers').serialize();$.post('site/admin/groupAddUsersResult.php',users,function(data){$('div.groupAddUsersResult').html(data).show();if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('.removeFromGroup').click(function(){showSpinner();var g_id=$(this).attr('data-groupid');$.post('site/admin/groupRemoveUsers.php',{g_id:g_id},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","#groupRemoveUsersSubmit",function(){showSpinner();var users=$('#groupRemoveUsers').serialize();$.post('site/admin/groupRemoveUsersResult.php',users,function(data){$('div.groupRemoveUsersResult').html(data).show();if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('form#ad').submit(function(){showSpinner();var addata=$(this).serialize();$.post('site/admin/manageADresult.php',addata,function(data){$('div.manageADresult').html(data).slideDown('fast').delay(2000).fadeOut('slow');hideSpinner();});return false;});$('#checkAD').click(function(){showSpinner();var addata=$('form#ad').serialize();$.post('site/admin/manageADcheck.php',addata,function(data){$('div.manageADresult').html(data).slideDown('fast');hideSpinner();});return false;});$('#instructionsForm').submit(function(){var instructions=CKEDITOR.instances.instructions.getData();$('div.instructionsPreview').hide('fast');showSpinner();$.post('site/admin/instructionsResult.php',{instructions:instructions},function(data){$('div.instructionsResult').html(data).fadeIn('fast');if(data.search("error")==-1){$('div.instructionsResult').delay(2000).fadeOut('slow');hideSpinner();}
else{hideSpinner();}});return false;});$('#preview').click(function(){showSpinner();var instructions=CKEDITOR.instances.instructions.getData();$.post('site/admin/instructionsPreview.php',{instructions:instructions},function(data){$('div.instructionsPreview').html(data).fadeIn('fast');hideSpinner();});return false;});$('form#logs').change(function(){showSpinner();var logSelection=$('form#logs').serialize();$.post('site/admin/logResult.php',logSelection,function(data){$('div.logs').html(data);hideSpinner();});});$(document).on("click","a.openLogDetail",function(){var id=$(this).attr('data-logid');$.post('site/admin/logDetail.php',{id:id},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});return false;});$('#logDirection button').click(function(){showSpinner();var logSelection=$('form#logs').serialize();var direction=$(this).attr('data-direction');var lastId;if(direction=="next"){lastId=$('table#logs tr:last').attr('id');}
else{lastId=$('table#logs tr:nth-child(2)').attr('id');}
var postData=logSelection+"&direction="+direction+"&lastId="+lastId;$.post('site/admin/logResult.php',postData,function(data1){$('div.logs').html(data1);hideSpinner();});return false;});$('#downloadLogs').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/logsExport.php'></iframe></div>");hideSpinner();$('div.logs').prepend("<div class='alert alert-info' id='logsInfo'><i class='icon-remove icon-gray selfDestruct'></i> Preparing download... </div>");return false;});$('#clearLogs').click(function(){showSpinner();$('div.logs').load('site/admin/logClear.php',function(){hideSpinner();});return false;});$('button.editSection').click(function(){showSpinner();var sectionId=$(this).attr('data-sectionid');var action=$(this).attr('data-action');$.post("site/admin/manageSectionEdit.php",{sectionId:sectionId,action:action},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});});$(document).on("click","#editSectionSubmit",function(){showSpinner();var sectionData=$('form#sectionEdit').serialize();$.post('site/admin/manageSectionEditResult.php',sectionData,function(data){$('div.sectionEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$('table#manageSubnets button[id^="subnet-"]').click(function(){showSpinner();var swid=$(this).attr('id');if($('#content-'+swid).is(':visible')){$(this).children('i').removeClass('icon-chevron-down').addClass('icon-chevron-right');}
else{$(this).children('i').removeClass('icon-chevron-right').addClass('icon-chevron-down');}
$('table#manageSubnets tbody#content-'+swid).slideToggle('fast');hideSpinner();});$('#toggleAllSwitches').click(function(){showSpinner();if($(this).children().hasClass('icon-resize-full')){$(this).children().removeClass('icon-resize-full').addClass('icon-resize-small');$('table#manageSubnets i.icon-chevron-right').removeClass('icon-chevron-right').addClass('icon-chevron-down');$('table#manageSubnets tbody[id^="content-subnet-"]').show();createCookie('showSubnets',1,30);}
else{$(this).children().removeClass('icon-resize-small').addClass('icon-resize-full');$('table#manageSubnets tbody[id^="content-subnet-"]').hide();$('table#manageSubnets i.icon-chevron-down').removeClass('icon-chevron-down').addClass('icon-chevron-right');createCookie('showSubnets',0,30);}
hideSpinner();});$('button.editSubnet').click(function(){showSpinner();var sectionId=$(this).attr('data-sectionid');var subnetId=$(this).attr('data-subnetid');var action=$(this).attr('data-action');var postdata="sectionId="+sectionId+"&subnetId="+subnetId+"&action="+action;$.post("site/admin/manageSubnetEdit.php",postdata,function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});});$(document).on("click","#resize, #split, #truncate",function(){showSpinner();var action=$(this).attr('id');var subnetId=$(this).attr('data-subnetId');$.post("site/admin/manageSubnet"+action+".php",{action:action,subnetId:subnetId},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');$('.popup_w700').css("z-index","99");hideSpinner();});return false;});$(document).on("click","button#subnetResizeSubmit",function(){showSpinner();var resize=$('form#subnetResize').serialize();$.post("site/admin/manageSubnetResizeSave.php",resize,function(data){$('div.subnetResizeResult').html(data);if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$(document).on("click","button#subnetSplitSubmit",function(){showSpinner();var split=$('form#subnetSplit').serialize();$.post("site/admin/manageSubnetSplitSave.php",split,function(data){$('div.subnetSplitResult').html(data);if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$(document).on("click","button#subnetTruncateSubmit",function(){showSpinner();var subnetId=$(this).attr('data-subnetId');$.post("site/admin/manageSubnetTruncateSave.php",{subnetId:subnetId},function(data){$('div.subnetTruncateResult').html(data);if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$(document).on("click",".editSubnetSubmit",function(){showSpinner();var subnetData=$('form#editSubnetDetails').serialize();if($(this).hasClass("editSubnetSubmitDelete")){subnetData=subnetData.replace("action=edit","action=delete");}
$.post("site/admin/manageSubnetEditResult.php",subnetData,function(data){$('div.manageSubnetEditResult').html(data).slideDown('fast');if(data.search("error")==-1){showSpinner();var sectionId;var subnetId;var parameter;if(subnetData.search("IPaddresses")!=-1){sectionId=$('form#editSubnetDetails input[name=sectionId]').val();subnetId=$('form#editSubnetDetails input[name=subnetId]').val();setTimeout(function(){window.location.reload();},1500);}
else if(subnetData.search("ipcalc")!=-1){}
else{setTimeout(function(){window.location.reload();},1500);}}
else{hideSpinner();}});return false;});$(document).on("click","#get-ripe",function(){showSpinner();var subnet=$('form#editSubnetDetails input[name=subnet]').val();$.getJSON("site/admin/manageSubnetEditRipeQuery.php",{subnet:subnet},function(data){$.each(data,function(key,val){$('form#editSubnetDetails #field-'+key).val(val);});hideSpinner();});return false;});$('.showSubnetPerm').click(function(){showSpinner();var subnetId=$(this).attr('data-subnetId');var sectionId=$(this).attr('data-sectionId');$.post("site/admin/manageSubnetShowPermissions.php",{subnetId:subnetId,sectionId:sectionId},function(data){$('div.popup_w500').html(data);showPopup('popup_w500');hideSpinner();});return false;});$(document).on("click",".editSubnetPermissionsSubmit",function(){showSpinner();var perms=$('form#editSubnetPermissions').serialize();$.post('site/admin/manageSubnetPermissionsSubmit.php',perms,function(data){$('.editSubnetPermissionsResult').html(data);if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$(document).on("click","#createSubnetFromCalc",function(){$('tr#selectSection').show();});$(document).on("change","select#selectSectionfromIPCalc",function(){var sectionId=$(this).val();var subnet=$('table.ipCalcResult td#sub2').html();var bitmask=$('table.ipCalcResult td#sub4').html();var postdata="sectionId="+sectionId+"&subnet="+subnet+"&bitmask="+bitmask+"&action=add&location=ipcalc";$('table.newSections ul#sections li#'+sectionId).addClass('active');$.post('site/admin/manageSubnetEdit.php',postdata,function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});});$('a.edit_subnet, button.edit_subnet, button#add_subnet').click(function(){var subnetId=$(this).attr('data-subnetId');var sectionId=$(this).attr('data-sectionId');var action=$(this).attr('data-action');var postdata="sectionId="+sectionId+"&subnetId="+subnetId+"&action="+action+"&location=IPaddresses";$.post('site/admin/manageSubnetEdit.php',postdata,function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("change","select[name=vlanId]",function(){var vlanId=$(this).val();if(vlanId=='Add'){showSpinner();$.post('site/admin/manageVLANEdit.php',{action:"add",fromSubnet:"true"},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');$('.popup_w700').css("z-index","99");hideSpinner();});}
return false;});$(document).on("click",".vlanManagementEditFromSubnetButton",function(){showSpinner();var postData=$('form#vlanManagementEditFromSubnet').serialize();var parameter;$.post('site/admin/manageVLANEditResult.php',postData,function(data){$('div.vlanManagementEditFromSubnetResult').html(data).show();if(data.search("error")==-1){var sectionId=$('#editSubnetDetails input[name=sectionId]').val();var subnetId=$('#editSubnetDetails input[name=subnetId]').val();var sAction=$('#editSubnetDetails input[name=action]').val();var postdata2="sectionId="+sectionId+"&subnetId="+subnetId+"&action="+sAction;$.post('site/admin/manageSubnetEdit.php',postdata2,function(data){$('div.popup_w700').html(data);$('.popup_w700').delay(1000).css("z-index","101");hideSpinner();});setTimeout(function(){hidePopup('popup_w400');parameter=null;},1000);}
else{hideSpinner();}});return false;});$('.editSwitch').click(function(){showSpinner();var switchId=$(this).attr('data-switchid');var action=$(this).attr('data-action');$.post('site/admin/manageDevicesEdit.php',{switchId:switchId,action:action},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editSwitchsubmit",function(){showSpinner();var switchdata=$('form#switchManagementEdit').serialize();$.post('site/admin/manageDevicesEditResult.php',switchdata,function(data){$('div.switchManagementEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();hideSpinner();}});return false;});$('.editVLAN').click(function(){showSpinner();var vlanId=$(this).attr('data-vlanid');var action=$(this).attr('data-action');$.post('site/admin/manageVLANEdit.php',{vlanId:vlanId,action:action},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editVLANsubmit",function(){showSpinner();var vlandata=$('form#vlanManagementEdit').serialize();$.post('site/admin/manageVLANEditResult.php',vlandata,function(data){$('div.vlanManagementEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('button.vrfManagement').click(function(){showSpinner();var vrfId=$(this).attr('data-vrfid');var action=$(this).attr('data-action');var switchpost="vrfId="+vrfId+"&action="+action;$.post('site/admin/manageVRFEdit.php',switchpost,function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editVRF",function(){showSpinner();var vrfdata=$('form#vrfManagementEdit').serialize();$.post('site/admin/manageVRFEditResult.php',vrfdata,function(data){$('div.vrfManagementEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table#requestedIPaddresses button').click(function(){showSpinner();var requestId=$(this).attr('data-requestid');$.post('site/admin/manageRequestEdit.php',{requestId:requestId},function(data){$('div.popup_w700').html(data);showPopup('popup_w700');hideSpinner();});return false;});$(document).on("click","button.manageRequest",function(){showSpinner();var postValues=$('form.manageRequestEdit').serialize();var action=$(this).attr('data-action');var postData=postValues+"&action="+action;$.post('site/admin/manageRequestResult.php',postData,function(data){$('div.manageRequestResult').html(data);if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('form#ripeImport').submit(function(){showSpinner();var as=$(this).serialize();$.post('site/admin/ripeImportTelnet.php',as,function(data){$('div.ripeImportTelnet').html(data).fadeIn('fast');hideSpinner();});return false;});$(document).on("click","table.asImport .removeSubnet",function(){$(this).parent('tr').remove();hideTooltips();});$(document).on("submit","form#asImport",function(){showSpinner();var importData=$(this).serialize();$.post('site/admin/ripeImportResult.php',importData,function(data){$('div.ripeImportResult').html(data).slideDown('fast');if(data.search("error")==-1){$('table.asImport').delay(1000).fadeOut('fast');hideSpinner();}
else{hideSpinner();}});return false;});$('button#filterIPSave').click(function(){showSpinner();var addata=$('form#filterIP').serialize();$.post('site/admin/filterIPFieldsResult.php',addata,function(data){$('div.filterIPResult').html(data).slideDown('fast');if(data.search("error")==-1){$('div.filterIPResult').delay(2000).fadeOut('slow');hideSpinner();}
else{hideSpinner();}});return false;});$('table.customIP tbody#ip button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customIPFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editcustomSubmit",function(){showSpinner();var field=$('form#editCustomIPFields').serialize();$.post('site/admin/customIPFieldsEditResult.php',field,function(data){$('div.customIPEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customIP tbody#ip button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customIPFieldsOrder.php',{current:current,next:next},function(data){$('div.customIPResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('table.customIP tbody#subnet button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customSubnetFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editcustomSubnetSubmit",function(){showSpinner();var field=$('form#editCustomSubnetFields').serialize();$.post('site/admin/customSubnetFieldsEditResult.php',field,function(data){$('div.customSubnetEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customIP tbody#subnet button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customSubnetFieldsOrder.php',{current:current,next:next},function(data){$('div.customSubnetResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('table.customIP tbody#vlan button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customVLANFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editcustomVLANSubmit",function(){showSpinner();var field=$('form#editCustomVLANFields').serialize();$.post('site/admin/customVLANFieldsEditResult.php',field,function(data){$('div.customVLANEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customIP tbody#vlan button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customVLANFieldsOrder.php',{current:current,next:next},function(data){$('div.customVLANResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('table.customIP tbody#customUser button[data-direction!=down]').click(function(){showSpinner();var action=$(this).attr('data-action');var fieldName=$(this).attr('data-fieldname');$.post('site/admin/customUserFieldsEdit.php',{action:action,fieldName:fieldName},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#editcustomUserSubmit",function(){showSpinner();var field=$('form#editCustomUserFields').serialize();$.post('site/admin/customUserFieldsEditResult.php',field,function(data){$('div.customUserEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('table.customIP tbody#customUser button.down').click(function(){showSpinner();var current=$(this).attr('data-fieldname');var next=$(this).attr('data-nextfieldname');$.post('site/admin/customUserFieldsOrder.php',{current:current,next:next},function(data){$('div.customUserResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1000);}
else{hideSpinner();}});return false;});$('button.lang').click(function(){showSpinner();var langid=$(this).attr('data-langid');var action=$(this).attr('data-action');$.post('site/admin/languageEdit.php',{langid:langid,action:action},function(data){$('div.popup_w400').html(data);showPopup('popup_w400');hideSpinner();});return false;});$(document).on("click","#langEditSubmit",function(){showSpinner();var ldata=$('form#langEdit').serialize();$.post('site/admin/languageEditResult.php',ldata,function(data){$('div.langEditResult').html(data).slideDown('fast');if(data.search("error")==-1){setTimeout(function(){window.location.reload();},1500);}
else{hideSpinner();}});return false;});$('button#searchReplaceSave').click(function(){showSpinner();var searchData=$('form#searchReplace').serialize();$.post('site/admin/searchReplaceResult.php',searchData,function(data){$('div.searchReplaceResult').html(data);hideSpinner();});return false;});$('button#XLSdump').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportGenerateXLS.php'></iframe></div>");hideSpinner();});$('button#MySQLdump').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportGenerateMySQL.php'></iframe></div>");hideSpinner();});$('button#hostfileDump').click(function(){showSpinner();$("div.dl").remove();$('div.exportDIV').append("<div style='display:none' class='dl'><iframe src='site/admin/exportGenerateHostDump.php'></iframe></div>");hideSpinner();});return false;});